{"swagger":"2.0","info":{"title":"Simple-SNS","description":"Layer構造を持つSNSのAPIです.","version":"0.1"},"host":"localhost:8080","basePath":"/api/v1","schemes":["https"],"consumes":["application/json"],"produces":["application/json"],"paths":{"/auth/new":{"post":{"tags":["Authorization"],"summary":"register Authorization","description":"新規登録","operationId":"Authorization#register","produces":["application/vnd.goa.error"],"parameters":[{"name":"payload","in":"body","required":true,"schema":{"$ref":"#/definitions/RegisterAuthorizationPayload"}}],"responses":{"201":{"description":"リソースの作成が完了しました。","headers":{"Location":{"type":"string","pattern":"/users/[0-9a-z]+"}}},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/error"}},"404":{"description":"Not Found","schema":{"$ref":"#/definitions/error"}},"409":{"description":"Conflict","schema":{"$ref":"#/definitions/error"}},"500":{"description":"Internal Server Error","schema":{"$ref":"#/definitions/error"}}},"schemes":["https"]}},"/auth/signature":{"post":{"tags":["Authorization"],"summary":"login Authorization","description":"ログイン","operationId":"Authorization#login","produces":["application/vnd.login+json"],"parameters":[{"name":"payload","in":"body","required":true,"schema":{"$ref":"#/definitions/LoginAuthorizationPayload"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/Login"}},"401":{"description":"Unauthorized"}},"schemes":["https"]}},"/posts/new":{"post":{"tags":["Post"],"summary":"create Post","description":"新規投稿\n\nRequired security scopes:\n  * `api:access`","operationId":"Post#create","produces":["application/vnd.goa.error"],"parameters":[{"name":"payload","in":"body","required":true,"schema":{"$ref":"#/definitions/CreatePostPayload"}}],"responses":{"204":{"description":"No Content"},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/error"}},"404":{"description":"Not Found","schema":{"$ref":"#/definitions/error"}},"500":{"description":"Internal Server Error","schema":{"$ref":"#/definitions/error"}}},"schemes":["https"],"security":[{"JWT":["api:access"]}]}},"/posts/{post_id}":{"get":{"tags":["Post"],"summary":"reference Post","description":"投稿の参照","operationId":"Post#reference","produces":["application/vnd.goa.error","application/vnd.post+json"],"parameters":[{"name":"post_id","in":"path","description":"投稿固有のID","required":true,"type":"string","pattern":"[0-9A-Z]{26}"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/Post"}},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/error"}},"404":{"description":"Not Found","schema":{"$ref":"#/definitions/error"}},"500":{"description":"Internal Server Error","schema":{"$ref":"#/definitions/error"}}},"schemes":["https"]},"delete":{"tags":["Post"],"summary":"delete Post","description":"投稿の削除\n\nRequired security scopes:\n  * `api:access`","operationId":"Post#delete","produces":["application/vnd.goa.error"],"parameters":[{"name":"post_id","in":"path","description":"投稿固有のID","required":true,"type":"string","pattern":"[0-9A-Z]{26}"}],"responses":{"204":{"description":"No Content"},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/error"}},"404":{"description":"Not Found","schema":{"$ref":"#/definitions/error"}},"500":{"description":"Internal Server Error","schema":{"$ref":"#/definitions/error"}}},"schemes":["https"],"security":[{"JWT":["api:access"]}]}}},"definitions":{"CreatePostPayload":{"title":"CreatePostPayload","type":"object","properties":{"body":{"type":"string","example":"にゃーん","maxLength":500}},"example":{"body":"にゃーん"},"required":["body"]},"Login":{"title":"Mediatype identifier: application/vnd.login+json; view=default","type":"object","properties":{"token":{"type":"string","description":"認証トークン","example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.cThIIoDvwdueQB468K5xDc5633seEFoqwxjF_xSJyQQ"}},"description":"ログインが成功した際に認証トークンを返すレスポンス (default view)","example":{"token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.cThIIoDvwdueQB468K5xDc5633seEFoqwxjF_xSJyQQ"},"required":["token"]},"LoginAuthorizationPayload":{"title":"LoginAuthorizationPayload","type":"object","properties":{"password":{"type":"string","example":"testpassword"},"userid":{"type":"string","example":"fugafuga","maxLength":15}},"example":{"password":"testpassword","userid":"fugafuga"},"required":["userid","password"]},"Post":{"title":"Mediatype identifier: application/vnd.post+json; view=default","type":"object","properties":{"body":{"type":"string","description":"投稿内容","example":"にゃーん"},"posted_at":{"type":"string","description":"投稿日時","example":"1993-09-04T03:58:37Z","format":"date-time"},"screen_name":{"type":"string","description":"投稿者のスクリーンネーム","example":"ほげほげ","maxLength":20},"user_id":{"type":"string","description":"投稿者","example":"hogehoge","maxLength":15}},"description":"投稿の詳細な情報を返す際のレスポンス (default view)","example":{"body":"にゃーん","posted_at":"1993-09-04T03:58:37Z","screen_name":"ほげほげ","user_id":"hogehoge"},"required":["posted_at","user_id","screen_name","body"]},"RegisterAuthorizationPayload":{"title":"RegisterAuthorizationPayload","type":"object","properties":{"password":{"type":"string","example":"testpassword"},"screen_name":{"type":"string","example":"ほげほげ","maxLength":20},"userid":{"type":"string","example":"hogehoge","maxLength":15}},"example":{"password":"testpassword","screen_name":"ほげほげ","userid":"hogehoge"},"required":["userid","screen_name","password"]},"error":{"title":"Mediatype identifier: application/vnd.goa.error; view=default","type":"object","properties":{"code":{"type":"string","description":"an application-specific error code, expressed as a string value.","example":"invalid_value"},"detail":{"type":"string","description":"a human-readable explanation specific to this occurrence of the problem.","example":"Value of ID must be an integer"},"id":{"type":"string","description":"a unique identifier for this particular occurrence of the problem.","example":"3F1FKVRR"},"meta":{"type":"object","description":"a meta object containing non-standard meta-information about the error.","example":{"timestamp":1458609066},"additionalProperties":true},"status":{"type":"string","description":"the HTTP status code applicable to this problem, expressed as a string value.","example":"400"}},"description":"Error response media type (default view)","example":{"code":"invalid_value","detail":"Value of ID must be an integer","id":"3F1FKVRR","meta":{"timestamp":1458609066},"status":"400"}}},"responses":{"NoContent":{"description":"No Content"},"Unauthorized":{"description":"Unauthorized"}},"securityDefinitions":{"JWT":{"type":"apiKey","description":"\n\n**Token URL**: https://localhost:8080/auth/signature\n\n**Security Scopes**:\n  * `api:access`: API access\n  * `api:admin`: 管理者によるアクセス権限","name":"Authorization","in":"header"}}}